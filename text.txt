nanCSP adds duplicate comment by reloading on browser.

Steps to reproduce:
Step1) Open a case on CSP.
Step2) Write a comment to the case.
Step3) Click 'Add comment' button.
Step4) Push F5 button to reload the page.

Please note that this happens only when a comment has several lines.

aaaa -> refresh OK

bbbb
cccc -> refresh Not OKDependencies that are appearing at the EAR level (jboss-network-csp.ear/<deps>) are also appearing in the WEB-INF/lib directory of the WAR file. This is because the jbossnetwork-war project inherits all of those dependencies from its parent, jbossnetwork. There seem to be two immediate solutions:

1. Create a new project. Call it something like jbossnetwork-deps. Move all of the dependencies declared in jbossnetwork into this project. jbossnetwork-war can then easily exclude all of those dependencies and explicitly declare the few dependencies that should be in WEB-INF/lib.

2. Declare and exclude each dependency from jbossnetwork in jbossnetwork-war.

The first solution results in more overhead initially because we have to update the poms for each of the modules listed in jbossnetwork/pom.xml. With the second solution, we need to update the pom for the war project every time dependencies change in its parent; consequently, the first solution presents less maintenance in the long run.

It should be noted that I do not feel that either of these solutions is ideal.I do not think we can arrive at a more robust solution until we have had a chance to straighten out and organize our projects, which will take some time. For example, we probably want to have a pom project for our EJBs, and this is where we would declare our EJB-specific dependencies. Then me might provide "templates"  for other types of components. Finally, we only declare those dependencies that are common across everything in the highest level poms.